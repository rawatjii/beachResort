(this.webpackJsonpbeach_project=this.webpackJsonpbeach_project||[]).push([[0],{132:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(55),a=c.n(r),i=c(4),o=(c(69),c(0)),l=function(e){var t=e.children,c=e.hero;return Object(o.jsx)("header",{className:c,children:t})};l.defaultProps={hero:"defaultHero"};var j=function(e){var t=e.children,c=e.title,n=e.subtitle;return Object(o.jsxs)("div",{className:"banner",children:[Object(o.jsx)("h1",{children:c}),Object(o.jsx)("div",{}),Object(o.jsx)("p",{children:n}),t]})},m=c(10),d=c(11),b=c(13),u=c(12),h=c(17),x=function(e){var t=e.title;return Object(o.jsxs)("div",{className:"section-title",children:[Object(o.jsx)("h4",{children:t}),Object(o.jsx)("div",{})]})},O=function(e){Object(b.a)(c,e);var t=Object(u.a)(c);function c(){var e;Object(m.a)(this,c);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={services:[{icon:Object(o.jsx)(h.c,{}),title:"Free cocktails",info:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{icon:Object(o.jsx)(h.d,{}),title:"Endless Hiking",info:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{icon:Object(o.jsx)(h.e,{}),title:"Free Shuttle",info:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"},{icon:Object(o.jsx)(h.b,{}),title:"Strongest Beer",info:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s"}]},e}return Object(d.a)(c,[{key:"render",value:function(){return Object(o.jsxs)("section",{className:"services",children:[Object(o.jsx)(x,{title:"Services"}),Object(o.jsx)("div",{className:"services-center",children:this.state.services.map((function(e,t){return Object(o.jsxs)("article",{className:"service",children:[Object(o.jsx)("span",{children:e.icon}),Object(o.jsx)("h6",{children:e.title}),Object(o.jsx)("p",{children:e.info})]},t)}))})]})}}]),c}(n.Component),p=c(25),f=c(18),g=c(19),v=c.n(g),y=c(15),N=c(56),k=c(24),C=c(57),z=Object(C.createClient)({space:"ff0i5ctujzik",accessToken:"TECRdh-g6_Cclgvy5zEqxC_JwWd8jhwVtCAd7gBDM0M"}),R=s.a.createContext(),F=function(e){Object(b.a)(c,e);var t=Object(u.a)(c);function c(e){var n;return Object(m.a)(this,c),(n=t.call(this,e)).getData=Object(N.a)(v.a.mark((function e(){var t,c,s,r,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getEntries({content_type:"beachResortRoom",order:"fields.price"});case 3:t=e.sent,c=n.formatData(t.items),s=c.filter((function(e){return!0===e.featured})),r=Math.max.apply(Math,Object(y.a)(c.map((function(e){return e.price})))),a=Math.max.apply(Math,Object(y.a)(c.map((function(e){return e.size})))),n.setState({rooms:c,featuredRooms:s,sortedRooms:c,loading:!1,price:r,maxPrice:r,maxSize:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.formatData=function(e){return e.map((function(e){var t=e.sys.id,c=e.fields.images.map((function(e){return e.fields.file.url}));return Object(f.a)(Object(f.a)({},e.fields),{},{images:c,id:t})}))},n.handleChange=function(e){var t=e.target,c="checkbox"===t.type?t.checked:t.value,s=e.target.name;n.setState(Object(p.a)({},s,c),n.filterRooms)},n.filterRooms=function(){var e=n.state,t=e.rooms,c=e.type,s=e.capacity,r=e.price,a=e.minSize,i=e.maxSize,o=e.breakfast,l=e.pets,j=Object(y.a)(t);s=parseInt(s),r=parseInt(r),"all"!==c&&(j=j.filter((function(e){return e.type===c}))),1!==s&&(j=j.filter((function(e){return e.capacity>=s}))),j=(j=j.filter((function(e){return e.price<=r}))).filter((function(e){return e.size>=a&&e.size<=i})),o&&(j=j.filter((function(e){return!0===e.breakfast}))),l&&(j=j.filter((function(e){return!0===e.pets}))),n.setState({sortedRooms:j})},n.state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},n.getRoom=n.getRoom.bind(Object(k.a)(n)),n}return Object(d.a)(c,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getRoom",value:function(e){return Object(y.a)(this.state.rooms).find((function(t){return t.slug===e}))}},{key:"render",value:function(){return Object(o.jsx)(R.Provider,{value:Object(f.a)(Object(f.a)({},this.state),{},{getRoom:this.getRoom,handleChange:this.handleChange}),children:this.props.children})}}]),c}(n.Component),S=R.Consumer;var w=c.p+"static/media/loading-arrow.dd29210f.gif",I=function(){return Object(o.jsxs)("div",{className:"loading",children:[Object(o.jsx)("h4",{children:"rooms data loading..."}),Object(o.jsx)("img",{src:w,alt:""})]})},L=c.p+"static/media/room-1.05b90599.jpeg",P=function(e){var t=e.room,c=t.name,n=t.slug,s=t.images,r=t.price;return Object(o.jsxs)("article",{className:"room",children:[Object(o.jsxs)("div",{className:"img-container",children:[Object(o.jsx)("img",{src:s[0]||L,alt:"single room"}),Object(o.jsxs)("div",{className:"price-top",children:[Object(o.jsxs)("h6",{children:["$",r]}),Object(o.jsx)("p",{children:"per night"})]}),Object(o.jsx)(i.b,{to:"/rooms/".concat(n),className:"btn-primary room-link",children:"Features"})]}),Object(o.jsx)("p",{className:"room-info",children:c})]})},T=function(e){Object(b.a)(c,e);var t=Object(u.a)(c);function c(){return Object(m.a)(this,c),t.apply(this,arguments)}return Object(d.a)(c,[{key:"render",value:function(){var e=this.context,t=e.loading,c=e.featuredRooms;return c=c.map((function(e){return Object(o.jsx)(P,{room:e},e.id)})),Object(o.jsxs)("section",{className:"featured-rooms",children:[Object(o.jsx)(x,{title:"Featured Rooms"}),Object(o.jsx)("div",{className:"featured-rooms-center",children:t?Object(o.jsx)(I,{}):c})]})}}]),c}(n.Component);T.contextType=R;var M=function(){return Object(o.jsxs)(s.a.Fragment,{children:[Object(o.jsx)(l,{children:Object(o.jsx)(j,{title:"luxurious rooms",subtitle:"deluxe rooms starting at $299",children:Object(o.jsx)(i.b,{to:"/rooms",className:"btn-primary",children:"Our Rooms"})})}),Object(o.jsx)(O,{}),Object(o.jsx)(T,{})]})},B=function(e,t){return Object(y.a)(new Set(e.map((function(e){return e[t]}))))},D=function(e){var t=e.rooms,c=Object(n.useContext)(R),s=c.handleChange,r=c.type,a=c.capacity,i=c.price,l=c.minPrice,j=c.maxPrice,m=c.minSize,d=c.maxSize,b=c.breakfast,u=c.pets,h=B(t,"type");h=(h=["all"].concat(Object(y.a)(h))).map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}));var O=B(t,"capacity");return O=O.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)})),Object(o.jsxs)("section",{className:"filter-container",children:[Object(o.jsx)(x,{title:"search rooms"}),Object(o.jsxs)("form",{className:"filter-form",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"type",children:"room type"}),Object(o.jsx)("select",{name:"type",id:"type",value:r,className:"form-control",onChange:s,children:h})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"capacity",children:"Guests"}),Object(o.jsx)("select",{name:"capacity",id:"capacity",value:a,className:"form-control",onChange:s,children:O})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsxs)("label",{htmlFor:"price",children:["room price $",i]}),Object(o.jsx)("input",{type:"range",name:"price",min:l,max:j,id:"price",value:i,onChange:s,className:"form-control"})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"size",children:"room size"}),Object(o.jsxs)("div",{className:"size-inputs",children:[Object(o.jsx)("input",{type:"number",name:"minSize",id:"size",value:m,onChange:s,className:"size-input"}),Object(o.jsx)("input",{type:"number",name:"maxSize",id:"size",value:d,onChange:s,className:"size-input"})]})]}),Object(o.jsxs)("div",{class:"form-group",children:[Object(o.jsxs)("div",{className:"single-extra",children:[Object(o.jsx)("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:b,onChange:s}),Object(o.jsx)("label",{htmlFor:"breakfast",children:"breakfast"})]}),Object(o.jsxs)("div",{className:"single-extra",children:[Object(o.jsx)("input",{type:"checkbox",name:"pets",id:"pets",checked:u,onChange:s}),Object(o.jsx)("label",{htmlFor:"pets",children:"pets"})]})]})]})]})};function E(e){var t=e.rooms;return 0===t.length?Object(o.jsx)("div",{className:"empty-search",children:Object(o.jsx)("h3",{children:"unfortunately no rooms matched parameters"})}):Object(o.jsx)("section",{className:"roomslist",children:Object(o.jsx)("div",{className:"roomslist-center",children:t.map((function(e){return Object(o.jsx)(P,{room:e},e.id)}))})})}var _,A,H=(_=function(e){var t=e.context,c=t.loading,n=t.sortedRooms,s=t.rooms;return c?Object(o.jsx)(I,{}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(D,{rooms:s}),Object(o.jsx)(E,{rooms:n})]})},function(e){return Object(o.jsx)(S,{children:function(t){return Object(o.jsx)(_,Object(f.a)(Object(f.a)({},e),{},{context:t}))}})}),$=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{hero:"roomsHero",children:Object(o.jsx)(j,{title:"Our rooms",children:Object(o.jsx)(i.b,{to:"/",className:"btn-primary",children:"return home"})})}),Object(o.jsx)(H,{})]})},J=c(64),q=c(59),G=c(60).a.header(A||(A=Object(q.a)(["\n  min-height: 60vh;\n  background: url(",")\n    center/cover no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.img?e.img:L})),Q=function(e){Object(b.a)(c,e);var t=Object(u.a)(c);function c(){var e;Object(m.a)(this,c);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={slug:e.props.match.params.slug,defaultBcg:L},e}return Object(d.a)(c,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return Object(o.jsxs)("div",{className:"error",children:[Object(o.jsx)("h3",{children:"no such room could be found"}),Object(o.jsx)(i.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})]});var t=e.name,c=e.description,n=e.capacity,s=e.size,r=e.price,a=e.extras,l=e.breakfast,m=e.pets,d=e.images,b=Object(J.a)(d),u=b[0],h=b.slice(1);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(G,{img:u||this.state.defaultBcg,children:Object(o.jsx)(j,{title:"".concat(t," room"),children:Object(o.jsx)(i.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})})}),Object(o.jsxs)("section",{className:"single-room",children:[Object(o.jsx)("div",{className:"single-room-images",children:h.map((function(e,c){return Object(o.jsx)("img",{src:e,alt:t},c)}))}),Object(o.jsxs)("div",{className:"single-room-info",children:[Object(o.jsxs)("article",{className:"desc",children:[Object(o.jsx)("h3",{children:"details"}),Object(o.jsx)("p",{children:c})]}),Object(o.jsxs)("article",{className:"info",children:[Object(o.jsx)("h3",{children:"info"}),Object(o.jsxs)("h6",{children:["price : $",r]}),Object(o.jsxs)("h6",{children:["size : ",s," SQFT"]}),Object(o.jsxs)("h6",{children:["max capacity :"," ","".concat(n,n>1?" people":" person")]}),Object(o.jsx)("h6",{children:m?"pets allowed":"no pets allowed"}),Object(o.jsx)("h6",{children:l&&"free breakfast included"})]})]})]}),Object(o.jsxs)("section",{className:"room-extras",children:[Object(o.jsx)("h6",{children:"extras"}),Object(o.jsx)("ul",{className:"extras",children:a.map((function(e,t){return Object(o.jsxs)("li",{children:["- ",e]},t)}))})]})]})}}]),c}(n.Component);Q.contextType=R;var V=Q,W=function(){return Object(o.jsx)(l,{children:Object(o.jsx)(j,{title:"404",subtitle:"Page not found",children:Object(o.jsx)(i.b,{to:"/",className:"btn-primary",children:"return home"})})})},K=c(2),U=c.p+"static/media/logo.54a9b9cb.svg",X=function(e){Object(b.a)(c,e);var t=Object(u.a)(c);function c(){var e;Object(m.a)(this,c);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(d.a)(c,[{key:"render",value:function(){return Object(o.jsx)("nav",{className:"navbar",children:Object(o.jsxs)("div",{className:"nav-center",children:[Object(o.jsxs)("div",{className:"nav-header",children:[Object(o.jsx)(i.b,{to:"/",children:Object(o.jsx)("img",{src:U,alt:"Beach Resort"})}),Object(o.jsx)("button",{type:"button",className:"nav-btn",onClick:this.handleToggle,children:Object(o.jsx)(h.a,{className:"nav-icon"})})]}),Object(o.jsxs)("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{to:"/",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{to:"/rooms",children:"Rooms"})})]})]})})}}]),c}(n.Component);var Y=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(X,{}),Object(o.jsxs)(K.c,{children:[Object(o.jsx)(K.a,{exact:!0,path:"/",component:M}),Object(o.jsx)(K.a,{exact:!0,path:"/rooms",component:$}),Object(o.jsx)(K.a,{exact:!0,path:"/rooms/:slug",component:V}),Object(o.jsx)(K.a,{component:W})]})]})},Z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,133)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(F,{children:Object(o.jsx)(i.a,{children:Object(o.jsx)(Y,{})})})}),document.getElementById("root")),Z()},35:function(e,t){},69:function(e,t,c){},99:function(e,t){}},[[132,1,2]]]);
//# sourceMappingURL=main.9a8e6e51.chunk.js.map